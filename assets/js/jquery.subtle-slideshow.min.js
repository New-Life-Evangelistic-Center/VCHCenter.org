!function(b){b.fn.slideshow=function(e){function h(){if(console.log("Slide refresh triggered."),n=Date.now(),0==f[0].children.length)console.log("There are no slides in the slideshow."),c.find("."+a.slideElementClass+":first").prependTo(f);else{c.find("."+a.slideElementClass+":first").prependTo(f);var g="#"+a.slideshowId+" ."+a.slideElementClass;b(g+":first span.animate").addClass("active").css("animation-duration",k+"ms");b(g+":last").fadeOut(a.fadeDuration,function(){b(g+":last span.animate").removeClass("active").css("animation-duration",
"0ms");b(g+":last").appendTo(c);c.find("."+a.slideElementClass).show(0)})}}var c=b(this),a=b.extend({randomize:!0,slideDuration:6E3,fadeDuration:1E3,animate:!0,pauseOnTabBlur:!0,enableLog:!1,slideElementClass:"slide",slideshowId:"slideshow"},e);if(0==a.enableLog&&(console.log=function(){}),1==a.randomize){e=c[0];for(var l=e.children.length;0<=l;l--)e.appendChild(e.children[Math.random()*l|0])}b('<div id="'+a.slideshowId+'"></div>').insertBefore(c);var p,m=!1,f=b("#"+a.slideshowId),d=0,q=0;if(1==a.animate)var k=
a.slideDuration+a.fadeDuration;else c.find("."+a.slideElementClass+" span.animate").removeClass("animate"),k=0;console.log("Slideshow initialized.");c.find("."+a.slideElementClass+":first span.animate").addClass("active").css("animation-duration",k+"ms");c.find("."+a.slideElementClass+":first").prependTo(f);var n=Date.now();slidesInterval=setInterval(h,a.slideDuration);console.log("Slideshow started.");1==a.pauseOnTabBlur&&b(window).focus(function(){console.log("Window gained focus.");1==m&&(console.log("Resuming slideshow."),
q=Date.now(),m=!1,b("#"+a.slideshowId+" span.active:last").removeClass("paused"),p=setTimeout(function(){d=0;h();slidesInterval=setInterval(h,a.slideDuration)},a.slideDuration-d))}).blur(function(){if(m=!0,console.log("Window lost focus, slideshow paused."),0!=d){var c=Date.now()-q;d+=c;console.log("Time since last pause within this slide: "+c+" ms")}else d=Date.now()-n;console.log("Current slide at "+d+" ms.");b("#"+a.slideshowId+" span.active:first").addClass("paused");clearInterval(slidesInterval);
clearTimeout(p)})}}(jQuery);